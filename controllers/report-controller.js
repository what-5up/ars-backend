const model = require("../models/report-model");

/**
 * View all the bookings categorized by the passenger type
 * 
 * @param {object} req http request object
 * @param {object} res http response object
 * @return {object} promise of a record object
 * @throws Error
 */
const viewBookingsByPassengerType = async (req, res) => {
    const reportID = req.params.id

    switch (reportID) {
        case '1': //view passengers in a flight

        case '2': //view number of bookings by each passenger type
            const records = await model.getBookingsByPassengerType()
                .then(result => {
                    return result.map((row, index) => {
                        return { id: index, object: row };
                    })
                })
                .catch(err => { return res.status(400).send({ error: err.message }); });
            return res.status(200).send(records);

        case '3': //view the number of passengers traveling to a given destination

        case '4': //view all past flights, states, passenger counts data

        case '5': //view total revenue generated by each aircraft type

        default: //invalid id
            return res.status(404).send({ error: "Not Found" }) //TODO: create a view

    }
}

module.exports = {
    viewBookingsByPassengerType
};